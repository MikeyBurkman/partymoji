(this.webpackJsonppartymoji=this.webpackJsonppartymoji||[]).push([[0],{216:function(e,a){},218:function(e,a){},231:function(e,a){},242:function(e,a){},349:function(e,a,n){"use strict";n.r(a);var r=n(0),t=n.n(r),i=n(47),o=n.n(i),s=n(38),c=n(4),u=n(401),l=function(e){return{name:e.name,params:e.params,description:e.description,fn:e.fn}},m=n(17),d=n(119),f=function(e){var a=Object(c.a)(e,3),n=a[0],r=a[1],t=a[2],i=function(e){var a=e.toString(16).toUpperCase();return 2===a.length?a:"0"+a};return"#".concat(i(n)).concat(i(r)).concat(i(t))},h=function(e){return[parseInt(e.toUpperCase().substr(1,2),16),parseInt(e.toUpperCase().substr(3,2),16),parseInt(e.toUpperCase().substr(5,2),16),255]},v=function(e){return e[3]<64},j=function(e){return[Math.floor(256*e.int32()),Math.floor(256*e.int32()),Math.floor(256*e.int32()),255]},b=function(e){var a=Object(c.a)(e,3),n=a[0],r=a[1],t=a[2];return Math.round((n+r+t)/3)},p=function(e){var a=Object(c.a)(e,4),n=a[0],r=a[1],t=a[2],i=a[3],o=function(e){return Math.max(Math.min(e,255),0)};return[o(n),o(r),o(t),o(i)]},g=function(e,a,n){var r=Object(c.a)(e,2),t=r[0],i=r[1],o=Object(c.a)(n,2),s=o[0],u=o[1];if(s<0||s>=t||u<0||u>=i)return[0,0,0,0];var l=N(e,s,u);return[a[l],a[l+1],a[l+2],a[l+3]]};function x(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unexpected falsy value";if(!e)throw new d.AssertionError({message:a,actual:e})}var O=function(e,a){var n=e.frames.map((function(n,r){return{data:a(n.data,r,e.frames.length)}}));return{dimensions:e.dimensions,frames:n}},C=function(e,a){for(var n=Object(c.a)(e,2),r=n[0],t=n[1],i=new Uint8Array(r*t*4),o=0;o<t;o+=1)for(var s=0;s<r;s+=1){var u=p(a([s,o])),l=N(e,s,o);i[l]=u[0],i[l+1]=u[1],i[l+2]=u[2],i[l+3]=u[3]}return i},M=function(e){return function(a){var n=a.image,r=a.random,t=a.parameters;return O(n,(function(a,i,o){return C(n.dimensions,(function(s){return e({image:n,dimensions:n.dimensions,random:r,parameters:t,coord:s,frameCount:o,frameIndex:i,getSrcPixel:function(e){return g(n.dimensions,a,e)}})}))}))}},w=function(e){return Object(m.a)(new Array(e)).map((function(e,a){return a}))},N=function(e,a,n){return 4*(a+n*Object(c.a)(e,1)[0])},V=function(e){var a=N(e.dimensions,e.coord[0],e.coord[1]);e.image[a]=e.color[0],e.image[a+1]=e.color[1],e.image[a+2]=e.color[2],e.image[a+3]=e.color[3]},y=function(e){var a=e.image,n=e.newWidth,r=e.newHeight,t=Object(c.a)(a.dimensions,2),i=t[0],o=t[1],s=i/n,u=o/r,l=[n,r];return{frames:a.frames.map((function(e){for(var t=new Uint8Array(n*r*4),i=0;i<r;i+=1)for(var o=0;o<n;o+=1){var c=Math.floor(o*s),m=Math.floor(i*u),d=g(a.dimensions,e.data,[c,m]);V({color:d,coord:[o,i],dimensions:l,image:t})}return{data:t}})),dimensions:[n,r]}},k=[[255,141,139,255],[254,214,137,255],[136,255,137,255],[135,255,255,255],[139,181,254,255],[215,140,255,255],[255,140,255,255],[255,104,247,255],[254,108,183,255],[255,105,104,255]],F=l({name:"Background Party",description:"Transparent pixels will flash bright party colors",params:[],fn:M((function(e){var a=e.coord,n=e.frameCount,r=e.frameIndex,t=(0,e.getSrcPixel)(a);if(v(t)){var i=Math.floor(r/n*k.length);return k[i]}return t}))}),S=n(394),P=n(403),I=n(399),T=n(395),U=n(398),R=n(1),B=function(e){var a=e.name,n=e.options,r=e.value,t=e.description,i=e.onChange;return Object(R.jsxs)("div",{className:"field",style:{maxWidth:"12em"},children:[Object(R.jsxs)("label",{className:"label",children:[a,t&&Object(R.jsx)(S.a,{title:t,children:Object(R.jsx)(P.a,{children:"help"})})]}),Object(R.jsx)("div",{className:"control",children:Object(R.jsx)(I.a,{fullWidth:!0,children:Object(R.jsx)(T.a,{autoWidth:!0,value:r,onChange:function(e){return i({valid:!0,value:e.target.value})},children:n.map((function(e){return Object(R.jsx)(U.a,{value:e.name,children:e.name},e.name)}))})})})]})};function W(e){return{name:e.name,defaultValue:e.defaultValue?{valid:!0,value:e.defaultValue}:{valid:!1},fn:function(a){return Object(R.jsx)(B,{name:e.name,value:a.value.valid?a.value.value:void 0,options:e.options,description:e.description,onChange:a.onChange})}}}var A=n(18),q=n.n(A),H=n(31),D=n(168),E=n.n(D),L=n(169),G=n.n(L),z=n(90),_=n.n(z),J=function(){var e=Object(H.a)(q.a.mark((function e(a,n,r){var t,i,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_()(a),e.next=3,K(a);case 3:return i=e.sent,o=[],n.reduce((function(e,a){var n=a.transform.fn({image:e,parameters:a.params,random:t});return o.push(n),n}),i),e.next=8,Promise.all(o.map(function(){var e=Object(H.a)(q.a.mark((function e(a){var n,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Q(a,t),i=X(a.frames.map((function(e){return e.data})),n),e.next=4,Y(a.dimensions,i,n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(a,n,r){return e.apply(this,arguments)}}(),X=function(e,a){return e.map((function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r+=4)a&&e[r+3]<128?(n[r]=a[0],n[r+1]=a[1],n[r+2]=a[2],n[r+3]=a[3]):(n[r]=e[r],n[r+1]=e[r+1],n[r+2]=e[r+2],n[r+3]=255);return n}))},Y=function(){var e=Object(H.a)(q.a.mark((function e(a,n,r,t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var i=Object(c.a)(a,2),o=i[0],s=i[1],u=new G.a(o,s);if(u.setFrameRate(t),u.setRepeat(0),r){var l=f(r).slice(1);u.setTransparent("0x".concat(l))}u.writeHeader();var m=[];u.on("data",(function(e){m.push(e)})),u.on("end",(function(){var a=URL.createObjectURL(new Blob(m,{type:"image/gif"}));e(a)})),n.forEach((function(e){u.addFrame(e)})),u.finish()})));case 1:case"end":return e.stop()}}),e)})));return function(a,n,r,t){return e.apply(this,arguments)}}(),K=function(e){return new Promise((function(a,n){return E()(e,(function(e,r){return e?n(e):a({frames:[{data:Uint8Array.from(r.data)}],dimensions:[r.shape[0],r.shape[1]]})}))}))},Q=function(e,a){var n=!1,r=new Set,t=Object(c.a)(e.dimensions,2),i=t[0],o=t[1],s=f([0,255,0,255]);return e.frames.forEach((function(t){for(var c=0;c<o;c+=1)for(var u=0;u<i;u+=1){var l=g(e.dimensions,t.data,[u,c]);if(v(l))n=!0;else{var m=f(l);r.add(m),m===s&&(s=Z(a,r))}}})),n?h(s):void 0},Z=function e(a,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,t=f(j(a));return r>2e3?t:n.has(t)?e(a,n,r+1):t},$=n(406),ee=function(e){var a=e.currentImageUrl,n=e.name,r=e.width,t=e.height,i=e.onChange;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{children:Object(R.jsxs)($.a,{startIcon:Object(R.jsx)(P.a,{children:"image"}),variant:"contained",component:"label",children:[n,Object(R.jsx)("input",{type:"file",hidden:!0,accept:"image/png,image/jpg",name:"source-png",onChange:function(){var e=Object(H.a)(q.a.mark((function e(a){var n,r,t,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Array.from(null!==(n=a.target.files)&&void 0!==n?n:[]),t=r[0],e.next=4,ae(t);case 4:o=e.sent,i(o);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()})]})}),Object(R.jsx)("div",{children:a&&Object(R.jsx)("img",{width:r,height:t,src:a,alt:"Source"})})]})},ae=function(e){return new Promise((function(a){var n=new FileReader;n.onload=function(){return a(n.result)},n.readAsDataURL(e)}))};var ne,re=l({name:"Background Image",description:"Select another image to be used as a background or foreground",params:[function(e){var a=e.name;return{name:a,defaultValue:{valid:!1},fn:function(e){return Object(R.jsxs)("div",{className:"field",style:{maxWidth:"12em"},children:[Object(R.jsx)("label",{className:"label",children:a}),Object(R.jsx)("div",{className:"control has-icons-left has-icons-right",children:Object(R.jsx)(ee,{currentImageUrl:e.value.valid?e.value.value.dataUrl:void 0,width:64,height:64,onChange:function(){var a=Object(H.a)(q.a.mark((function a(n){var r;return q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,K(n);case 2:r=a.sent,e.onChange({valid:!0,value:{dataUrl:n,image:r}});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()})})]})}}}({name:"Image"}),W({name:"Type",defaultValue:"background",options:[{name:"Background",value:"background"},{name:"Foreground",value:"foreground"}]})],fn:function(e){var a=e.image,n=e.parameters,r=y({image:n[0].image,newWidth:a.dimensions[0],newHeight:a.dimensions[1]}),t=n[1];return O(a,(function(e){return C(a.dimensions,(function(n){var i=g(a.dimensions,e,n),o=g(r.dimensions,r.frames[0].data,n);return"background"===t?v(i)?o:i:v(o)?i:o}))}))}}),te=n(407),ie=n(397),oe=function(e){var a=e.name,n=e.value,r=e.description,i=e.parse,o=e.onChange,s=t.a.useState(void 0===n?void 0:n.toString()),u=Object(c.a)(s,2),l=u[0],m=u[1],d=t.a.useState(""),f=Object(c.a)(d,2),h=f[0],v=f[1];return Object(R.jsxs)(I.a,{children:[Object(R.jsx)(te.a,{children:null!==r&&void 0!==r?r:" "}),Object(R.jsx)(ie.a,{label:a,error:!!h,defaultValue:n,onBlur:function(){if(void 0!==l&&(!n||l!==n.toString())){var e=i(l);e.valid?v(""):v(e.reason),o(e)}},onChange:function(e){m(e.target.value)}}),h&&Object(R.jsx)(te.a,{children:h})]})},se=function(e){return{name:e.name,defaultValue:void 0!==e.defaultValue?{valid:!0,value:e.defaultValue}:{valid:!1},fn:function(a){var n=e.min,r=e.max;return Object(R.jsx)(oe,{name:e.name,description:e.description,parse:function(e){var a=parseFloat(e);return isNaN(a)?{valid:!1,reason:"Must be a number"}:void 0!==n&&a<n?{valid:!1,reason:"Must be greater than or equal to ".concat(n)}:void 0!==r&&a>r?{valid:!1,reason:"Must be less than or equal to ".concat(r)}:{valid:!0,value:a}},onChange:a.onChange,value:a.value.valid?a.value.value:void 0})}}},ce=l({name:"Bounce",description:"Make the image bounce up and down",params:[se({name:"Bounce Speed",defaultValue:5,min:0})],fn:M((function(e){var a=e.coord,n=e.frameCount,r=e.frameIndex,t=e.getSrcPixel,i=e.parameters,o=Object(c.a)(a,2);return t([o[0],o[1]+Math.round(i[0]*Math.sin(r/n*2*Math.PI))])}))}),ue=function(e){var a=e.name,n=e.value,r=e.description,i=e.parse,o=e.onChange,s=t.a.useState(void 0===n?void 0:n.toString()),u=Object(c.a)(s,2),l=u[0],m=u[1],d=t.a.useState(""),f=Object(c.a)(d,2),h=f[0],v=f[1];return Object(R.jsxs)(I.a,{children:[Object(R.jsx)(te.a,{children:null!==r&&void 0!==r?r:" "}),Object(R.jsx)(ie.a,{label:a,error:!!h,defaultValue:n,onBlur:function(){if(void 0!==l&&(!n||l!==n.toString())){var e=i(l);e.valid?v(""):v(e.reason),o(e)}},onChange:function(e){m(e.target.value)}}),h&&Object(R.jsx)(te.a,{children:h})]})},le=function(e){return{name:e.name,defaultValue:void 0!==e.defaultValue?{valid:!0,value:e.defaultValue}:{valid:!1},fn:function(a){var n=e.min,r=e.max;return Object(R.jsx)(ue,{name:e.name,description:e.description,parse:function(e){var a=parseInt(e,10);return isNaN(a)?{valid:!1,reason:"Must be an integer"}:void 0!==n&&a<n?{valid:!1,reason:"Must be greater than or equal to ".concat(n)}:void 0!==r&&a>r?{valid:!1,reason:"Must be less than or equal to ".concat(r)}:{valid:!0,value:a}},onChange:a.onChange,value:a.value.valid?a.value.value:void 0})}}},me=l({name:"Brightness",description:"Increase or decrease the brightness of the image",params:[le({name:"Amount",defaultValue:0,min:-100,max:100})],fn:M((function(e){var a=e.coord,n=e.getSrcPixel,r=e.parameters,t=Object(c.a)(r,1)[0]/100*255,i=n(a);return p([i[0]+t,i[1]+t,i[2]+t,i[3]])}))}),de=l({name:"Circle",params:[se({name:"Radius",defaultValue:10,min:0})],fn:M((function(e){var a=e.coord,n=e.frameCount,r=e.frameIndex,t=e.getSrcPixel,i=e.parameters,o=Object(c.a)(i,1)[0],s=Object(c.a)(a,2),u=s[0],l=s[1];return t([u+Math.round(o*Math.sin(-2*Math.PI*(r/n))),l+Math.round(o*Math.cos(-2*Math.PI*(r/n)))])}))}),fe=l({name:"Expand",params:[se({name:"Radius",defaultValue:10,min:0})],fn:M((function(e){var a=e.dimensions,n=e.coord,r=e.frameCount,t=e.frameIndex,i=e.getSrcPixel,o=e.parameters,s=t/r,u=Math.cos(2*s*Math.PI)*o[0],l=Object(c.a)(a,2),m=l[0],d=l[1],f=m/2,h=d/2,v=Object(c.a)(n,2),j=v[0],b=v[1],p=(j-f)/m,g=(b-h)/d;return i([j-Math.floor(u*p),b-Math.round(u*g)])}))}),he=l({name:"Fisheye",params:[se({name:"radius",defaultValue:10,min:0})],fn:M((function(e){var a=e.dimensions,n=e.coord,r=e.frameCount,t=e.frameIndex,i=e.getSrcPixel,o=e.parameters,s=t/r,u=s<.5,l=Object(c.a)(a,2),m=l[0],d=l[1],f=(u?s:1-s)*o[0],h=m/2,v=d/2,j=Object(c.a)(n,2),b=j[0],p=j[1],g=Math.atan2(v-p,h-b);return i([b+Math.round(f*Math.cos(g)),p+Math.round(f*Math.sin(g))])}))}),ve=l({name:"Frame Count",description:"Set how many frames of animation there will be. This is required for all animation transforms",params:[le({name:"Number of Frames",defaultValue:10,min:1})],fn:function(e){var a=e.image,n=e.parameters,r=Object(c.a)(n,1)[0],t=a.frames,i=w(r).map((function(e){return{data:t[e]?t[e].data:t[t.length-1].data}}));return{dimensions:a.dimensions,frames:i}}}),je=l({name:"Grayscale",params:[],fn:M((function(e){var a=e.coord,n=(0,e.getSrcPixel)(a);if(v(n))return[0,0,0,0];var r=b(n);return[r,r,r,255]}))}),be=function(e){var a=e.name,n=e.value,r=e.onChange,i=t.a.useState(n),o=Object(c.a)(i,2),s=o[0],u=o[1];return Object(R.jsxs)("div",{className:"field",style:{maxWidth:"12em"},children:[Object(R.jsx)("label",{className:"label",children:a}),Object(R.jsx)("div",{className:"control has-icons-left has-icons-right",children:Object(R.jsx)("input",{type:"text",value:s,name:a,onChange:function(e){return u(e.target.value)},onBlur:function(){return r(n?{valid:!0,value:n}:{valid:!1})}})})]})},pe=[[0,15,40,255],[150,150,175,255],[180,180,205,255],[210,210,235,255]],ge=l({name:"Lightning",params:[(ne={name:"Random Seed",defaultValue:"lightning"},{name:ne.name,defaultValue:void 0!==ne.defaultValue?{valid:!0,value:ne.defaultValue}:{valid:!1},fn:function(e){return Object(R.jsx)(be,{name:ne.name,onChange:e.onChange,value:e.value.valid?e.value.value:void 0})}})],fn:function(e){var a=e.image,n=e.parameters,r=_()(n[0]);return O(a,(function(e){var n=r(),t=n<.9?0:n<.95?1:n<.98?2:3;return C(a.dimensions,(function(n){var r=g(a.dimensions,e,n);if(v(r))return pe[t];if(t>0){var i=1.02*t;return[r[0]*i,r[1]*i,r[2]*i,r[3]]}return r}))}))}}),xe=[[255,141,139,255],[254,214,137,255],[136,255,137,255],[135,255,255,255],[139,181,254,255],[215,140,255,255],[255,140,255,255],[255,104,247,255],[254,108,183,255],[255,105,104,255]],Oe=l({name:"Party",params:[],fn:M((function(e){var a=e.coord,n=e.frameCount,r=e.frameIndex,t=(0,e.getSrcPixel)(a);if(v(t))return[0,0,0,0];var i=Math.floor(r/n*xe.length),o=xe[i],s=b(t);return[s*o[0]/255,s*o[1]/255,s*o[2]/255,255]}))}),Ce=n(174),Me=n(71),we=n.n(Me),Ne=function(e){var a=e.mainEle,n=e.children,r=t.a.useState(!0),i=Object(c.a)(r,2),o=i[0],s=i[1];return Object(R.jsxs)("div",{children:[Object(R.jsxs)("div",{className:"is-clickable columns",onClick:function(){return s(!o)},children:[Object(R.jsx)("div",{className:"column is-four-fifths",children:a}),Object(R.jsx)("span",{className:"icon column",children:Object(R.jsx)("i",{className:we()("fas",o?"fa-chevron-down":"fa-chevron-up")})})]}),!o&&Object(R.jsx)("div",{children:n})]})},Ve=function(e){var a=e.color;return Object(R.jsx)("div",{style:{width:"1.5em",height:"1.5em",backgroundColor:f(a)}})},ye=function(e){var a=e.name,n=e.value,r=e.description,t=e.onChange;return Object(R.jsx)(Ne,{mainEle:Object(R.jsxs)("div",{className:"columns",children:[Object(R.jsxs)("label",{className:"label column is-four-fifths",children:[a,r&&Object(R.jsx)(S.a,{title:r,children:Object(R.jsx)(P.a,{children:"help"})})]}),Object(R.jsx)("span",{className:"column",children:n&&Object(R.jsx)(Ve,{color:n})})]}),children:Object(R.jsx)(Ce.a,{disableAlpha:!0,presetColors:[],color:n?f(n):void 0,onChangeComplete:function(e){return t({valid:!0,value:h(e.hex)})}})})};function ke(e){return{name:e.name,defaultValue:e.defaultValue?{valid:!0,value:e.defaultValue}:{valid:!1},fn:function(a){return Object(R.jsx)(ye,{name:e.name,value:a.value.valid?a.value.value:void 0,onChange:a.onChange})}}}var Fe=function(e){var a=e.iconClassName,n=e.onClick;return Object(R.jsx)("span",{className:we()("icon","column",n?"is-clickable":void 0),style:{display:"revert"},onClick:n,children:Object(R.jsx)("i",{className:we()("fas",a),"aria-hidden":"true"})})},Se=function(e){var a=e.name,n=e.newParamText,r=e.createNewParam,i=e.value,o=e.description,s=e.onChange,u=t.a.useState(void 0===i?[]:i.map((function(e,a){return{param:r(),pValue:e}}))),l=Object(c.a)(u,2),d=l[0],f=l[1];return Object(R.jsxs)("div",{className:"field",style:{maxWidth:"12em"},children:[Object(R.jsx)("label",{className:"label",children:Object(R.jsxs)("div",{children:[a," ",o&&Object(R.jsx)(S.a,{title:o,children:Object(R.jsx)(P.a,{children:"help"})})]})}),Object(R.jsxs)("div",{className:"control",children:[d.map((function(e,n){var r=e.param,t=e.pValue,i=r.fn({value:{valid:!0,value:t},onChange:function(e){if(e.valid){var a=d.map((function(a,t){return n===t?{param:r,pValue:e.value}:a}));f(a),s({valid:!0,value:a.map((function(e){return e.pValue}))})}}});return Object(R.jsxs)("div",{className:"columns",children:[Object(R.jsx)("div",{className:"column is-narrow",children:Object(R.jsx)(Fe,{iconClassName:"fa-trash",onClick:function(){f(d.filter((function(e,a){return a!==n})))}})}),Object(R.jsx)("div",{className:"column",children:i})]},"".concat(a,"-").concat(n))})),Object(R.jsx)("div",{children:Object(R.jsx)("button",{className:"button",onClick:function(){var e=r();f([].concat(Object(m.a)(d),[{param:e,pValue:e.defaultValue}]))},children:n})})]})]})};function Pe(e){return{name:e.name,defaultValue:e.defaultValue?{valid:!0,value:e.defaultValue}:{valid:!1},fn:function(a){return Object(R.jsx)(Se,{name:e.name,newParamText:e.newParamText,value:a.value.valid?a.value.value:void 0,createNewParam:e.createNewParam,description:e.description,onChange:a.onChange})}}}var Ie=["#FF0000","#FF9600","#FFFF00","#00FF00","#00FF96","#00FFFF","#0000FF","#B400FF"].map(h),Te=l({name:"Pinwheel",description:"Create a pinwheel of colors",params:[le({name:"Offset X",defaultValue:0}),le({name:"Offset Y",defaultValue:40}),le({name:"Group Count",defaultValue:1,min:1}),Pe({name:"Colors",newParamText:"New Color",description:"Colors for the pinwheel",defaultValue:Ie,createNewParam:function(){return ke({name:"Color"})}})],fn:M((function(e){for(var a=e.coord,n=e.dimensions,r=e.frameCount,t=e.frameIndex,i=e.getSrcPixel,o=e.parameters,s=i(a),u=Object(c.a)(o,4),l=u[0],m=u[1],d=u[2],f=u[3],h=f.length*d,j=Math.round(360/h),b=f.length;"00"!==(h/b).toFixed(2).slice(-2);)b-=1;if(v(s)){var p=n[0]/2+l,g=n[1]/2+m,x=Object(c.a)(a,2),O=x[0]-p,C=x[1]-g,M=(360+180*Math.atan2(C,O)/Math.PI)%360,w=Math.floor(M/j)%b,N=t/r;return f[(Math.floor(N*b)+w)%b]}return s}))}),Ue=["#FF0000","#FF9600","#FFFF00","#00FF00","#00FF96","#00FFFF","#0000FF","#B400FF"].map(h),Re=[re,F,ce,me,de,fe,he,ve,je,ge,Oe,Te,l({name:"Radiance",params:[le({name:"Group Count",defaultValue:1,min:1}),Pe({name:"Colors",newParamText:"New Color",description:"Colors radiating outwards",defaultValue:Ue,createNewParam:function(){return ke({name:"Color"})}})],fn:M((function(e){var a=e.coord,n=e.dimensions,r=e.frameCount,t=e.frameIndex,i=e.getSrcPixel,o=e.parameters,s=i(a),u=Object(c.a)(o,2),l=u[0],m=u[1],d=w(l).flatMap((function(){return m}));if(v(s)){var f=Object(c.a)(n,2),h=f[0],j=f[1],b=h/2,p=j/2,g=Object(c.a)(a,2),x=g[0]-b,O=g[1]-p,C=Math.sqrt(h/2*(h/2)+j/2*(j/2)),M=Math.sqrt(O*O+x*x),N=Math.floor((1-M/C)*d.length)%d.length,V=t/r;return d[(Math.floor(V*d.length)+N)%d.length]}return s}))}),l({name:"Resize",params:[le({name:"Width",defaultValue:128,min:1}),le({name:"Height",defaultValue:128,min:1})],fn:function(e){var a=e.image,n=e.parameters,r=Object(c.a)(n,2),t=r[0],i=r[1];return y({image:a,newWidth:t,newHeight:i})}}),l({name:"Resize Background",params:[le({name:"Width",defaultValue:128,min:0}),le({name:"Height",defaultValue:128,min:0})],fn:function(e){var a=e.image,n=e.parameters,r=Object(c.a)(a.dimensions,2),t=r[0],i=r[1],o=Object(c.a)(n,2),s=o[0],u=o[1];x(s>=t,"New width for resize-background needs to be greater than or equal to the original"),x(u>=i,"New height for resize-background needs to be greater than or equal to the original");var l=[s,u],m=(s-t)/2,d=(u-i)/2;return{frames:a.frames.map((function(e){for(var n=new Uint8Array(s*u*4),r=0;r<u;r+=1)for(var t=0;t<s;t+=1){var i=t>m&&t<s-m&&r>d&&r<u-d?g(a.dimensions,e.data,[t-m,r-d]):[0,0,0,0];V({color:i,coord:[t,r],dimensions:l,image:n})}return{data:n}})),dimensions:l}}}),l({name:"Ripple",params:[se({name:"Amplitude",defaultValue:10,description:"How strong the ripple effect should be"}),se({name:"Period",defaultValue:2,min:0,description:"How many ripples you want"})],fn:function(e){var a=e.image,n=e.parameters;return O(a,(function(e,r,t){var i=Object(c.a)(n,2),o=i[0],s=i[1],u=a.dimensions[1],l=r/t*2*Math.PI;return C(a.dimensions,(function(n){var r=Object(c.a)(n,2),t=r[0],i=r[1],m=Math.round(o*Math.sin(i/u*s*Math.PI+l));return g(a.dimensions,e,[t+m,i])}))}))}}),l({name:"Rotate",params:[W({name:"Direction",defaultValue:-1,options:[{name:"Clockwise",value:-1},{name:"Counter-Clockwise",value:1}]})],fn:M((function(e){var a=e.dimensions,n=e.coord,r=e.frameCount,t=e.frameIndex,i=e.getSrcPixel,o=e.parameters,s=Object(c.a)(o,1)[0],u=a[0]/2,l=a[1]/2,m=Object(c.a)(n,2),d=m[0]-u,f=m[1]-l,h=t/r*(s||1),v=Math.cos(2*Math.PI*h),j=Math.sin(2*Math.PI*h);return i([Math.round(u+d*v-f*j),Math.round(l+f*v+d*j)])}))}),l({name:"Roxbury",params:[],fn:function(e){var a=e.image;return O(a,(function(e,n,r){var t=n/r,i=Math.floor(4*t),o=4*(t-i/4),s=Math.PI/2*.2,u=0===i?0:1===i?o*s:2===i?s:(1-o)*s,l=Math.cos(1.35*-u),m=Math.sin(1.35*-u),d=.25*a.dimensions[0],f=.7*a.dimensions[1];return C(a.dimensions,(function(n){var r=Object(c.a)(n,2),t=r[0],i=r[1],o=Math.floor(t-d+8*Math.sin(u)),s=Math.floor(i-f+8*Math.cos(u)),h=[Math.round(d+o*l-s*m),Math.round(f+s*l+o*m)];return g(a.dimensions,e,h)}))}))}}),l({name:"Shake",params:[se({name:"Shake Speed",defaultValue:10,min:0})],fn:M((function(e){var a=e.coord,n=e.frameCount,r=e.frameIndex,t=e.getSrcPixel,i=e.parameters,o=Object(c.a)(i,1)[0],s=Object(c.a)(a,2),u=s[0],l=s[1];return t([u+Math.round(o*Math.cos(r/n*2*Math.PI)),l])}))}),l({name:"Solid Background",params:[ke({name:"Background Color",defaultValue:h("#000000")})],fn:M((function(e){var a=e.coord,n=e.getSrcPixel,r=e.parameters,t=Object(c.a)(r,1)[0],i=n(a);return v(i)?t:i}))}),l({name:"Static",params:[se({name:"Strength",defaultValue:10,min:0})],fn:M((function(e){var a=e.coord,n=e.getSrcPixel,r=e.parameters,t=e.random,i=Object(c.a)(r,1)[0],o=n(a);return v(o)?[0,0,0,0]:Math.ceil(t()*i)>1?[255-o[0],255-o[1],255-o[2],o[3]]:o}))}),l({name:"Transparent Color",params:[ke({name:"Transparent Color",defaultValue:h("#000000")}),le({name:"Tolerance",defaultValue:10,min:0,max:100})],fn:M((function(e){var a=e.coord,n=e.getSrcPixel,r=e.parameters,t=Object(c.a)(r,2),i=t[0],o=t[1],s=n(a),u=s[0]-i[0],l=s[1]-i[1],m=s[2]-i[2];return Math.sqrt(u*u+l*l+m*m)/255*100<=o?[s[0],s[1],s[2],0]:s}))}),l({name:"Transpose",params:[le({name:"X",defaultValue:0}),le({name:"Y",defaultValue:0})],fn:M((function(e){var a=e.coord,n=e.getSrcPixel,r=e.parameters,t=Object(c.a)(r,2),i=t[0],o=t[1],s=Object(c.a)(a,2);return n([s[0]+i,s[1]+o])}))})],Be=n(408),We=le({name:"Frames per Second",defaultValue:20,min:0}),Ae=function(e){var a=e.isDirty,n=e.computeDisabled,r=e.baseImageUrl,i=e.transforms,o=e.onComputed,s=t.a.useState({loading:!1,results:[]}),u=Object(c.a)(s,2),l=u[0],m=u[1],d=t.a.useState(!1),f=Object(c.a)(d,2),h=f[0],v=f[1],j=t.a.useState(20),b=Object(c.a)(j,2),p=b[0],g=b[1],O=n&&!h;return Object(R.jsxs)("div",{className:"box",children:[Object(R.jsx)("h3",{className:"title",children:"Create Gif"}),Object(R.jsx)("div",{className:"block",children:We.fn({value:{valid:!0,value:p},onChange:function(e){e.valid&&(g(e.value),v(!0))}})}),Object(R.jsx)("div",{className:"block",children:Object(R.jsx)($.a,{variant:"contained",endIcon:a||h?Object(R.jsx)(P.a,{children:"priority_high"}):void 0,disabled:O,onClick:Object(H.a)(q.a.mark((function e(){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=i.map((function(e){return{transform:e.transform,params:e.paramsValues.map((function(e){return x(e.valid),e.value}))}})),m({loading:!0}),setTimeout(Object(H.a)(q.a.mark((function e(){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(r,"No source image, this button should be disabled!"),e.next=4,J(r,a,p);case 4:n=e.sent,m({loading:!1,results:n}),v(!1),o(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),console.error(e.t0.stack);case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))));case 3:case"end":return e.stop()}}),e)}))),children:l.loading?Object(R.jsx)(Be.a,{color:"inherit"}):"Compute"})}),Object(R.jsx)("div",{className:"block",children:Object(R.jsx)("div",{className:"columns",children:!l.loading&&l.results.map((function(e,a){return Object(R.jsxs)("div",{className:"column",children:[Object(R.jsx)("div",{children:i[a].transform.name}),Object(R.jsx)("img",{src:e,alt:"gif-".concat(i[a].transform.name)})]})}))})})]})},qe=n(409),He=function(e){var a=e.selectedTransform,n=e.possibleTransforms,r=e.index,t=e.onSelect,i=e.onRemove,o=e.onMoveLeft,c=e.onMoveRight;return Object(R.jsxs)("div",{className:"card",style:{padding:"0.75rem",maxWidth:"24rem"},children:[Object(R.jsx)("div",{className:"card-header-title",children:Object(R.jsxs)("div",{className:"columns is-desktop",children:[Object(R.jsxs)("div",{className:"column",children:[Object(R.jsxs)("div",{className:"block columns",children:[Object(R.jsx)("div",{className:"column is-narrow",children:r+1}),Object(R.jsx)("div",{className:"column",children:Object(R.jsx)(I.a,{fullWidth:!0,children:Object(R.jsx)(T.a,{autoWidth:!0,value:a.transform.name,onChange:function(e){var a=e.target.value,r=n.find((function(e){return e.name===a}));t({transform:r,paramValues:r.params.map((function(e){return e.defaultValue}))})},children:n.map((function(e){return Object(R.jsx)(U.a,{value:e.name,children:e.name},e.name)}))})})})]}),a.transform.description&&Object(R.jsx)("div",{className:"block",style:{fontSize:"0.75rem"},children:a.transform.description})]}),Object(R.jsxs)("div",{className:"column columns",children:[o&&Object(R.jsx)(S.a,{title:"Move transform left",children:Object(R.jsx)(qe.a,{"aria-label":"delete",onClick:o,children:Object(R.jsx)(P.a,{children:"chevron_left"})})}),c&&Object(R.jsx)(S.a,{title:"Move transform right",children:Object(R.jsx)(qe.a,{"aria-label":"delete",onClick:c,children:Object(R.jsx)(P.a,{children:"chevron_right"})})}),Object(R.jsx)(S.a,{title:"Delete transform",children:Object(R.jsx)(qe.a,{"aria-label":"delete",onClick:i,children:Object(R.jsx)(P.a,{children:"delete"})})})]})]})}),Object(R.jsx)("div",{className:"card-content",children:a.transform.params.map((function(e,n){var r=e.fn({value:a.paramValues[n],onChange:function(e){t(Object(s.a)(Object(s.a)({},a),{},{paramValues:a.paramValues.map((function(a,r){return r===n?e:a}))}))}});return Object(R.jsx)("div",{className:"block",children:r},e.name)}))})]})},De=function(e){var a=e.currentTransforms,n=e.possibleTransforms,r=e.onTransformsChange;return Object(R.jsxs)("div",{className:"box",children:[Object(R.jsx)("h3",{className:"title",children:"Image Transforms"}),Object(R.jsx)("div",{className:"block",children:Object(R.jsx)($.a,{variant:"contained",onClick:function(){return r([].concat(Object(m.a)(a),[{transform:n[0],paramsValues:n[0].params.map((function(e){return e.defaultValue}))}]))},children:"New Transform"})}),Object(R.jsxs)("div",{className:"columns",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)"},children:[a.map((function(e,t){return Object(R.jsx)("div",{className:"column",children:Object(R.jsx)(He,{index:t,possibleTransforms:n,selectedTransform:{transform:e.transform,paramValues:e.paramsValues},onRemove:function(){return r(a.filter((function(e,a){return a!==t})))},onMoveLeft:t>0?function(){return r(a.map((function(e,n){return n===t-1?a[n+1]:t===n?a[t-1]:e})))}:void 0,onMoveRight:t<a.length-1?function(){return r(a.map((function(e,n){return n===t+1?a[n-1]:t===n?a[t+1]:e})))}:void 0,onSelect:function(e){return r(a.map((function(a,n){return t===n?{transform:e.transform,paramsValues:e.paramValues,computedImage:void 0}:{transform:a.transform,paramsValues:a.paramsValues,computedImage:void 0}})))}})})})),Object(R.jsx)("div",{className:"box",style:{display:"none"}})]})]})},Ee=function(){var e=t.a.useState({dirty:!1,transforms:[],baseImage:void 0}),a=Object(c.a)(e,2),n=a[0],r=a[1];var i=!n.baseImage||0===n.transforms.length||!n.dirty||n.transforms.some((function(e){return e.transform.params.length>0&&e.paramsValues.every((function(e,a){return!1===e.valid}))}));return Object(R.jsxs)("section",{children:[Object(R.jsx)(u.a,{}),Object(R.jsxs)("div",{className:"container",children:[Object(R.jsx)("h1",{className:"title",style:{paddingTop:"16px"},children:"Partymoji"}),Object(R.jsxs)("div",{children:[Object(R.jsxs)("div",{className:"box",children:[Object(R.jsx)("h3",{className:"title",children:"Source Image"}),Object(R.jsx)(ee,{name:"Choose a source image",currentImageUrl:n.baseImage,onChange:function(e){r(Object(s.a)(Object(s.a)({},n),{},{baseImage:e,dirty:!0}))}})]}),Object(R.jsx)(De,{currentTransforms:n.transforms,possibleTransforms:Re,onTransformsChange:function(e){return r(Object(s.a)(Object(s.a)({},n),{},{dirty:!0,transforms:e}))}}),Object(R.jsx)(Ae,{isDirty:n.dirty,baseImageUrl:n.baseImage,computeDisabled:i,transforms:n.transforms,onComputed:function(){return r(Object(s.a)(Object(s.a)({},n),{},{dirty:!1}))}}),false,Object(R.jsx)("a",{href:"https://github.com/MikeyBurkman/partymoji",target:"_blank",rel:"noreferrer",children:Object(R.jsx)("img",{src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",width:64,height:64,alt:"Github Link"})})]})]})]})};o.a.render(Object(R.jsx)(t.a.StrictMode,{children:Object(R.jsx)(Ee,{})}),document.getElementById("root"))}},[[349,1,2]]]);
//# sourceMappingURL=main.99d10dc1.chunk.js.map