(this.webpackJsonppartymoji=this.webpackJsonppartymoji||[]).push([[0],{128:function(e,a){},250:function(e,a){},252:function(e,a){},265:function(e,a){},269:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),s=n(105),i=n.n(s),c=n(23),o=n(4),u=n(6),l=n.n(u),m=n(17),f=n(1),d=function(e){var a=e.currentImageUrl,n=e.onChange;return Object(f.jsxs)("div",{className:"box",children:[Object(f.jsx)("h3",{className:"title",children:"Source Image"}),Object(f.jsx)("div",{className:"file block",children:Object(f.jsxs)("label",{className:"file-label",children:[Object(f.jsx)("input",{className:"file-input",type:"file",accept:"image/png,image/jpg",name:"source-png",onChange:function(){var e=Object(m.a)(l.a.mark((function e(a){var t,r,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Array.from(null!==(t=a.target.files)&&void 0!==t?t:[]),s=r[0],e.next=4,j(s);case 4:i=e.sent,n(i);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}),Object(f.jsxs)("span",{className:"file-cta",children:[Object(f.jsx)("span",{className:"file-icon",children:Object(f.jsx)("i",{className:"fas fa-upload"})}),Object(f.jsx)("span",{className:"file-label",children:"Choose a source image"})]})]})}),a&&Object(f.jsx)("img",{src:a})]})},j=function(e){return new Promise((function(a){var n=new FileReader;n.onload=function(){return a(n.result)},n.readAsDataURL(e)}))},h=n(11),b=n(32),p=n.n(b),v=function(e){var a,n,t=e.selected,s=e.options,i=e.onChange,c=r.a.useState(!0),u=Object(o.a)(c,2),l=u[0],m=u[1],d=r.a.useCallback((function(){document.removeEventListener("click",d),m(!0)}),[]),j=null!==(a=null===(n=s.find((function(e){return e.value===t})))||void 0===n?void 0:n.name)&&void 0!==a?a:"";return Object(f.jsxs)("div",{className:"dropdown is-active",children:[Object(f.jsx)("div",{className:"dropdown-trigger",children:Object(f.jsxs)("button",{className:"button","aria-haspopup":"true",onClick:function(e){e.preventDefault(),l?(m(!1),setTimeout((function(){return document.addEventListener("click",d)}),0)):d()},children:[Object(f.jsx)("span",{children:j}),Object(f.jsx)("span",{className:"icon is-small",children:Object(f.jsx)("i",{className:"fas fa-angle-down","aria-hidden":"true"})})]})}),Object(f.jsx)("div",{className:"dropdown-menu",role:"menu",style:{visibility:l?"hidden":"visible"},children:Object(f.jsx)("div",{className:"dropdown-content",children:s.map((function(e){var a=e.name,n=e.value;return Object(f.jsx)("a",{href:"#",className:p()("dropdown-item",{"is-active":t===n}),onClick:function(e){e.preventDefault(),d(),i(n)},children:a})}))})})]})},O=function(e){var a=e.mainEle,n=e.children,t=r.a.useState(!0),s=Object(o.a)(t,2),i=s[0],c=s[1];return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"is-clickable",onClick:function(){return c(!i)},children:[a,Object(f.jsx)("span",{className:"icon",children:Object(f.jsx)("i",{className:p()("fas",i?"fa-chevron-up":"fa-chevron-down")})})]}),!i&&Object(f.jsx)("div",{children:n})]})},g=function(e){var a=e.image,n=e.selectedTransform,t=e.possibleTransforms,r=e.onSelect,s=e.onRemove;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"columns",children:[Object(f.jsx)("div",{className:"column",children:Object(f.jsx)(v,{selected:n.transform.name,options:t.map((function(e){return{name:e.name,value:e.name}})),onChange:function(e){var a=t.find((function(a){return a.name===e}));r({transform:a,paramValues:a.params.map((function(e){return{valid:!0,value:e.defaultValue}}))})}})}),Object(f.jsx)("button",{className:"delete column",onClick:function(){return s()}})]}),Object(f.jsxs)("div",{children:[n.transform.params.map((function(e,a){var t=n.paramValues[a],s=e.fn({value:t.valid?t.value:e.defaultValue,onChange:function(e){r({transform:n.transform,paramValues:n.paramValues.map((function(n,t){return t===a?e:n}))})}});return Object(f.jsx)("div",{children:s},e.name)})),a&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("br",{}),Object(f.jsx)("img",{src:a})]})]})]})},x=function(e){var a=e.currentTransforms,n=e.possibleTransforms,t=e.onTransformsChange;return Object(f.jsxs)("div",{className:"box",children:[Object(f.jsx)("h3",{className:"title",children:"Image Transforms"}),a.map((function(e,r){return Object(f.jsx)("div",{className:"box",children:Object(f.jsx)(g,{image:void 0,possibleTransforms:n,selectedTransform:{transform:e.transform,paramValues:e.paramsValues},onRemove:function(){t(a.filter((function(e,a){return a!==r})))},onSelect:function(e){t(a.map((function(a,n){return r===n?{transform:e.transform,paramsValues:e.paramValues,computedImage:void 0}:{transform:a.transform,paramsValues:a.paramsValues,computedImage:void 0}})))}})})})),Object(f.jsx)("button",{className:"button block",onClick:function(){t([].concat(Object(h.a)(a),[{transform:n[0],paramsValues:n[0].params.map((function(e){return void 0!==e.defaultValue?{valid:!0,value:e.defaultValue}:{valid:!1}}))}]))},children:"New Transform"})]})},C=function(e){return{name:e.name,params:e.params,fn:e.fn}},M=n(68),N=function(e){var a=Object(o.a)(e,3),n=a[0],t=a[1],r=a[2],s=function(e){var a=e.toString(16).toUpperCase();return 2===a.length?a:"0"+a};return"#".concat(s(n)).concat(s(t)).concat(s(r))},V=function(e){return[parseInt(e.toUpperCase().substr(1,2),16),parseInt(e.toUpperCase().substr(3,2),16),parseInt(e.toUpperCase().substr(5,2),16),255]},S=function(e){return e[3]<64},w=function(e){return[Math.floor(256*e.int32()),Math.floor(256*e.int32()),Math.floor(256*e.int32()),255]},I=function(e){var a=Object(o.a)(e,3),n=a[0],t=a[1],r=a[2];return Math.round((n+t+r)/3)},y=function(e){var a=Object(o.a)(e,4),n=a[0],t=a[1],r=a[2],s=a[3],i=function(e){return Math.max(Math.min(e,255),0)};return[i(n),i(t),i(r),i(s)]},k=function(e,a,n){var t=Object(o.a)(e,2),r=t[0],s=t[1],i=Object(o.a)(n,2),c=i[0],u=i[1];if(c<0||c>=r||u<0||u>=s)return[0,0,0,0];var l=4*c+4*u*r;return[a[l],a[l+1],a[l+2],a[l+3]]};function P(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unexpected falsy value";if(!e)throw new M.AssertionError({message:a,actual:e})}var T,R=function(e,a){var n=e.frames.map((function(n,t){return{data:a(n.data,t,e.frames.length)}}));return{dimensions:e.dimensions,frames:n}},F=function(e,a){for(var n=Object(o.a)(e,2),t=n[0],r=n[1],s=[],i=0;i<r;i+=1)for(var c=0;c<t;c+=1)s.push.apply(s,Object(h.a)(y(a([c,i]))));return s},U=function(e){return function(a){var n=a.image,t=a.random,r=a.parameters;return R(n,(function(a,s,i){return F(n.dimensions,(function(c){return e({image:n,dimensions:n.dimensions,random:t,parameters:r,coord:c,frameCount:i,frameIndex:s,getSrcPixel:function(e){return k(n.dimensions,a,e)}})}))}))}},B=[[255,141,139,255],[254,214,137,255],[136,255,137,255],[135,255,255,255],[139,181,254,255],[215,140,255,255],[255,140,255,255],[255,104,247,255],[254,108,183,255],[255,105,104,255]],E=C({name:"Background Party",params:[],fn:U((function(e){var a=e.coord,n=e.frameCount,t=e.frameIndex,r=(0,e.getSrcPixel)(a);if(S(r)){var s=Math.floor(t/n*B.length);return B[s]}return r}))}),q=function(e){var a=e.name,n=e.value,t=e.parse,s=e.onChange,i=r.a.useState(n.toString()),c=Object(o.a)(i,2),u=c[0],l=c[1],m=r.a.useState(""),d=Object(o.a)(m,2),j=d[0],h=d[1];return Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("label",{className:"label",children:a}),Object(f.jsx)("div",{className:"control has-icons-left has-icons-right",children:Object(f.jsx)("input",{className:"input",type:"text",defaultValue:n,onChange:function(e){l(e.target.value)},onBlur:function(){if(u!==n.toString()){var e=t(u);e.valid?h(""):h(e.reason),s(e)}}})}),j&&Object(f.jsx)("p",{className:"help is-danger",children:j})]})},D=function(e){return{name:e.name,defaultValue:e.defaultValue,fn:function(a){var n=e.min,t=e.max;return Object(f.jsx)(q,{name:e.name,parse:function(e){var a=parseFloat(e);return isNaN(a)?{valid:!1,reason:"Must be a number"}:void 0!==n&&a<n?{valid:!1,reason:"Must be greater than or equal to ".concat(n)}:void 0!==t&&a>t?{valid:!1,reason:"Must be less than or equal to ".concat(t)}:{valid:!0,value:a}},onChange:a.onChange,value:a.value})}}},A=C({name:"Bounce",params:[D({name:"Bounce Speed",defaultValue:5,min:0})],fn:U((function(e){var a=e.coord,n=e.frameCount,t=e.frameIndex,r=e.getSrcPixel,s=e.parameters,i=Object(o.a)(a,2);return r([i[0],i[1]+Math.round(s[0]*Math.sin(t/n*2*Math.PI))])}))}),L=C({name:"Circle",params:[D({name:"Radius",defaultValue:10,min:0})],fn:U((function(e){var a=e.coord,n=e.frameCount,t=e.frameIndex,r=e.getSrcPixel,s=e.parameters,i=Object(o.a)(s,1)[0],c=Object(o.a)(a,2),u=c[0],l=c[1];return r([u+Math.round(i*Math.sin(-2*Math.PI*(t/n))),l+Math.round(i*Math.cos(-2*Math.PI*(t/n)))])}))}),z=C({name:"Expand",params:[D({name:"Radius",defaultValue:10,min:0})],fn:U((function(e){var a=e.dimensions,n=e.coord,t=e.frameCount,r=e.frameIndex,s=e.getSrcPixel,i=e.parameters,c=r/t,u=Math.cos(2*c*Math.PI)*i[0],l=Object(o.a)(a,2),m=l[0],f=l[1],d=m/2,j=f/2,h=Object(o.a)(n,2),b=h[0],p=h[1],v=(b-d)/m,O=(p-j)/f;return s([b-Math.floor(u*v),p-Math.round(u*O)])}))}),H=C({name:"Fisheye",params:[D({name:"radius",defaultValue:10,min:0})],fn:U((function(e){var a=e.dimensions,n=e.coord,t=e.frameCount,r=e.frameIndex,s=e.getSrcPixel,i=e.parameters,c=r/t,u=c<.5,l=Object(o.a)(a,2),m=l[0],f=l[1],d=(u?c:1-c)*i[0],j=m/2,h=f/2,b=Object(o.a)(n,2),p=b[0],v=b[1],O=Math.atan2(h-v,j-p);return s([p+Math.round(d*Math.cos(O)),v+Math.round(d*Math.sin(O))])}))}),G=function(e){var a=e.name,n=e.value,t=e.parse,s=e.onChange,i=r.a.useState(n.toString()),c=Object(o.a)(i,2),u=c[0],l=c[1],m=r.a.useState(""),d=Object(o.a)(m,2),j=d[0],h=d[1];return Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("label",{className:"label",children:a}),Object(f.jsx)("div",{className:"control has-icons-left has-icons-right",children:Object(f.jsx)("input",{className:"input",type:"text",defaultValue:n,onChange:function(e){l(e.target.value)},onBlur:function(){if(u!==n.toString()){var e=t(u);e.valid?h(""):h(e.reason),s(e)}}})}),j&&Object(f.jsx)("p",{className:"help is-danger",children:j})]})},J=function(e){return{name:e.name,defaultValue:e.defaultValue,fn:function(a){var n=e.min,t=e.max;return Object(f.jsx)(G,{name:e.name,parse:function(e){var a=parseInt(e,10);return isNaN(a)?{valid:!1,reason:"Must be an integer"}:void 0!==n&&a<n?{valid:!1,reason:"Must be greater than or equal to ".concat(n)}:void 0!==t&&a>t?{valid:!1,reason:"Must be less than or equal to ".concat(t)}:{valid:!0,value:a}},onChange:a.onChange,value:a.value})}}},W=C({name:"Frame Count",params:[J({name:"Number of Frames",defaultValue:10,min:1})],fn:function(e){var a=e.image,n=e.parameters;P(1===a.frames.length,"The frame-count transform requires a static image with just one frame");var t,r=Object(o.a)(n,1)[0],s=(t=r,Object(h.a)(new Array(t)).map((function(e,a){return a}))).map((function(){return{data:a.frames[0].data}}));return{dimensions:a.dimensions,frames:s}}}),X=C({name:"Grayscale",params:[],fn:U((function(e){var a=e.coord,n=(0,e.getSrcPixel)(a);if(S(n))return[0,0,0,0];var t=I(n);return[t,t,t,255]}))}),Y=n(46),K=n.n(Y),Q=function(e){var a=e.name,n=e.value,t=e.onChange,s=r.a.useState(n),i=Object(o.a)(s,2),c=i[0],u=i[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:a}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{type:"text",value:c,name:a,onChange:function(e){return u(e.target.value)},onBlur:function(){return t({valid:!0,value:n})}})]})},Z=[[0,15,40,255],[150,150,175,255],[180,180,205,255],[210,210,235,255]],$=C({name:"Lightning",params:[(T={name:"Random Seed",defaultValue:"lightning"},{name:T.name,defaultValue:T.defaultValue,fn:function(e){return Object(f.jsx)(Q,{name:T.name,onChange:e.onChange,value:e.value})}})],fn:function(e){var a=e.image,n=e.parameters,t=K()(n[0]);return R(a,(function(e){var n=t(),r=n<.9?0:n<.95?1:n<.98?2:3;return F(a.dimensions,(function(n){var t=k(a.dimensions,e,n);if(S(t))return Z[r];if(r>0){var s=1.02*r;return[t[0]*s,t[1]*s,t[2]*s,t[3]]}return t}))}))}}),_=[[255,141,139,255],[254,214,137,255],[136,255,137,255],[135,255,255,255],[139,181,254,255],[215,140,255,255],[255,140,255,255],[255,104,247,255],[254,108,183,255],[255,105,104,255]],ee=C({name:"Party",params:[],fn:U((function(e){var a=e.coord,n=e.frameCount,t=e.frameIndex,r=(0,e.getSrcPixel)(a);if(S(r))return[0,0,0,0];var s=Math.floor(t/n*_.length),i=_[s],c=I(r);return[c*i[0]/255,c*i[1]/255,c*i[2]/255,255]}))}),ae=C({name:"Resize",params:[J({name:"Width",defaultValue:128,min:1}),J({name:"Height",defaultValue:128,min:1})],fn:function(e){var a=e.image,n=e.parameters,t=Object(o.a)(a.dimensions,2),r=t[0],s=t[1],i=Object(o.a)(n,2),c=i[0],u=i[1],l=r/c,m=s/u;return{frames:a.frames.map((function(e){for(var n=[],t=0;t<u;t+=1)for(var r=0;r<c;r+=1){var s=Math.floor(r*l),i=Math.floor(t*m);n.push.apply(n,Object(h.a)(k(a.dimensions,e.data,[s,i])))}return{data:n}})),dimensions:[c,u]}}}),ne=C({name:"Resize Background",params:[J({name:"Width",defaultValue:128,min:0}),J({name:"Height",defaultValue:128,min:0})],fn:function(e){var a=e.image,n=e.parameters,t=Object(o.a)(a.dimensions,2),r=t[0],s=t[1],i=Object(o.a)(n,2),c=i[0],u=i[1];P(c>=r,"New width for resize-background needs to be greater than or equal to the original"),P(u>=s,"New height for resize-background needs to be greater than or equal to the original");var l=(c-r)/2,m=(u-s)/2;return{frames:a.frames.map((function(e){for(var n=[],t=0;t<u;t+=1)for(var r=0;r<c;r+=1){var s=r>l&&r<c-l&&t>m&&t<u-m?k(a.dimensions,e.data,[r-l,t-m]):[0,0,0,0];n.push.apply(n,Object(h.a)(s))}return{data:n}})),dimensions:[c,u]}}}),te=C({name:"Ripple",params:[D({name:"Amplitude",defaultValue:10}),D({name:"Period",defaultValue:2,min:0})],fn:function(e){var a=e.image,n=e.parameters;return R(a,(function(e,t,r){var s=Object(o.a)(n,2),i=s[0],c=s[1],u=a.dimensions[1],l=t/r*2*Math.PI;return F(a.dimensions,(function(n){var t=Object(o.a)(n,2),r=t[0],s=t[1],m=Math.round(i*Math.sin(s/u*c*Math.PI+l));return k(a.dimensions,e,[r+m,s])}))}))}}),re=function(e){var a=e.name,n=e.options,t=e.value,r=e.onChange;return Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:a}),Object(f.jsx)("br",{}),Object(f.jsx)(v,{onChange:function(e){return r({valid:!0,value:e})},selected:t,options:n})]})};var se=C({name:"Rotate",params:[function(e){return{name:e.name,defaultValue:e.defaultValue,fn:function(a){return Object(f.jsx)(re,{name:e.name,value:a.value,options:e.options,onChange:a.onChange})}}}({name:"Direction",defaultValue:-1,options:[{name:"Clockwise",value:-1},{name:"Counter-Clockwise",value:1}]})],fn:U((function(e){var a=e.dimensions,n=e.coord,t=e.frameCount,r=e.frameIndex,s=e.getSrcPixel,i=e.parameters,c=Object(o.a)(i,1)[0],u=a[0]/2,l=a[1]/2,m=Object(o.a)(n,2),f=m[0]-u,d=m[1]-l,j=r/t*(c||1),h=Math.cos(2*Math.PI*j),b=Math.sin(2*Math.PI*j);return s([Math.round(u+f*h-d*b),Math.round(l+d*h+f*b)])}))}),ie=C({name:"Roxbury",params:[],fn:function(e){var a=e.image;return R(a,(function(e,n,t){var r=n/t,s=Math.floor(4*r),i=4*(r-s/4),c=Math.PI/2*.2,u=0===s?0:1===s?i*c:2===s?c:(1-i)*c,l=Math.cos(1.35*-u),m=Math.sin(1.35*-u),f=.25*a.dimensions[0],d=.7*a.dimensions[1];return F(a.dimensions,(function(n){var t=Object(o.a)(n,2),r=t[0],s=t[1],i=Math.floor(r-f+8*Math.sin(u)),c=Math.floor(s-d+8*Math.cos(u)),j=[Math.round(f+i*l-c*m),Math.round(d+c*l+i*m)];return k(a.dimensions,e,j)}))}))}}),ce=C({name:"Shake",params:[D({name:"Shake Speed",defaultValue:10,min:0})],fn:U((function(e){var a=e.coord,n=e.frameCount,t=e.frameIndex,r=e.getSrcPixel,s=e.parameters,i=Object(o.a)(s,1)[0],c=Object(o.a)(a,2),u=c[0],l=c[1];return r([u+Math.round(i*Math.cos(t/n*2*Math.PI)),l])}))}),oe=n(112),ue=function(e){var a=e.name,n=e.value,t=e.onChange;return Object(f.jsx)(O,{mainEle:Object(f.jsxs)("div",{className:"is-flex-direction-column",children:[a,Object(f.jsx)("div",{style:{width:"1.0em",height:"1.0em",backgroundColor:N(n)}})]}),children:Object(f.jsx)(oe.a,{disableAlpha:!0,presetColors:[],color:N(n),onChangeComplete:function(e){return t({valid:!0,value:V(e.hex)})}})})};function le(e){return{name:e.name,defaultValue:e.defaultValue,fn:function(a){return Object(f.jsx)(ue,{name:e.name,value:a.value,onChange:a.onChange})}}}var me=[W,E,A,L,z,H,X,$,ee,ae,ne,te,se,ie,ce,C({name:"Solid Background",params:[le({name:"Background Color",defaultValue:V("#FFFFFF")})],fn:U((function(e){var a=e.coord,n=e.getSrcPixel,t=e.parameters,r=Object(o.a)(t,1)[0],s=n(a);return S(s)?r:s}))}),C({name:"Static",params:[D({name:"Strength",defaultValue:10,min:0})],fn:U((function(e){var a=e.coord,n=e.getSrcPixel,t=e.parameters,r=e.random,s=Object(o.a)(t,1)[0],i=n(a);return S(i)?[0,0,0,0]:Math.ceil(r()*s)>1?[255-i[0],255-i[1],255-i[2],i[3]]:i}))}),C({name:"Transparent Color",params:[le({name:"Transparent Color",defaultValue:V("#000000")}),J({name:"Tolerance",defaultValue:10,min:0,max:100})],fn:U((function(e){var a=e.coord,n=e.getSrcPixel,t=e.parameters,r=Object(o.a)(t,2),s=r[0],i=r[1],c=n(a),u=c[0]-s[0],l=c[1]-s[1],m=c[2]-s[2];return Math.sqrt(u*u+l*l+m*m)/255*100<=i?[c[0],c[1],c[2],0]:c}))}),C({name:"Transpose",params:[J({name:"X",defaultValue:0}),J({name:"Y",defaultValue:0})],fn:U((function(e){var a=e.coord,n=e.getSrcPixel,t=e.parameters,r=Object(o.a)(t,2),s=r[0],i=r[1],c=Object(o.a)(a,2);return n([c[0]+s,c[1]+i])}))})],fe=n(110),de=n.n(fe),je=n(111),he=n.n(je),be=function(){var e=Object(m.a)(l.a.mark((function e(a,n,t){var r,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=K()(a),e.next=3,Oe(a);case 3:return s=e.sent,i=[],n.reduce((function(e,a){var n=a.transform.fn({image:e,parameters:a.params,random:r});return i.push(n),n}),s),e.next=8,Promise.all(i.map(function(){var e=Object(m.a)(l.a.mark((function e(a){var n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ge(a,r),s=pe(a.frames.map((function(e){return e.data})),n),e.next=4,ve(a.dimensions,s,n,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(a,n,t){return e.apply(this,arguments)}}(),pe=function(e,a){return e.map((function(e){for(var n=[],t=0;t<e.length;t+=4)a&&e[t+3]<128?n.push.apply(n,Object(h.a)(a)):(n.push(e[t]),n.push(e[t+1]),n.push(e[t+2]),n.push(255));return n}))},ve=function(){var e=Object(m.a)(l.a.mark((function e(a,n,t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var s=Object(o.a)(a,2),i=s[0],c=s[1],u=new he.a(i,c),l=[];u.on("data",(function(e){l.push(e)})),u.on("end",(function(){var a=URL.createObjectURL(new Blob(l,{type:"image/gif"}));e(a)})),u.setFrameRate(r),u.setRepeat(0),t&&u.setTransparent(N(t)),u.writeHeader(),n.forEach((function(e){u.addFrame(e)})),u.finish()})));case 1:case"end":return e.stop()}}),e)})));return function(a,n,t,r){return e.apply(this,arguments)}}(),Oe=function(e){return new Promise((function(a,n){return de()(e,(function(e,t){return e?n(e):a({frames:[{data:t.data}],dimensions:t.shape})}))}))},ge=function(e,a){var n=!1,t=new Set,r=Object(o.a)(e.dimensions,2),s=r[0],i=r[1],c=N([0,255,0,255]);return e.frames.forEach((function(r){for(var o=0;o<i;o+=1)for(var u=0;u<s;u+=1){var l=k(e.dimensions,r.data,[u,o]);if(S(l))n=!0;else{var m=N(l);t.add(m),m===c&&(c=xe(a,t))}}})),n?V(c):void 0},xe=function e(a,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=N(w(a));return t>2e3?r:n.has(r)?e(a,n,t+1):r},Ce=J({name:"Frames per Second",defaultValue:20,min:0}),Me=function(e){var a=e.isDirty,n=e.computeDisabled,t=e.baseImageUrl,s=e.transforms,i=e.onComputed,c=r.a.useState({loading:!1,results:[]}),u=Object(o.a)(c,2),d=u[0],j=u[1],h=r.a.useState(!1),b=Object(o.a)(h,2),v=b[0],O=b[1],g=r.a.useState(20),x=Object(o.a)(g,2),C=x[0],M=x[1],N=n&&!v;return Object(f.jsxs)("div",{className:"box",children:[Object(f.jsx)("h3",{className:"title",children:"Create Gif"}),Object(f.jsx)("div",{className:"block",children:Ce.fn({value:C,onChange:function(e){e.valid&&(M(e.value),O(!0))}})}),Object(f.jsx)("div",{className:"block",children:Object(f.jsxs)("button",{className:p()("button","block",{"is-loading":d.loading}),disabled:N,onClick:Object(m.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=s.map((function(e){return{transform:e.transform,params:e.paramsValues.map((function(e){return P(e.valid),e.value}))}})),j({loading:!0}),setTimeout(Object(m.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(t,"No source image, this button should be disabled!"),e.next=3,be(t,a,C);case 3:n=e.sent,j({loading:!1,results:n}),O(!1),i();case 7:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)}))),children:[Object(f.jsx)("span",{children:"Compute"})," ",(a||v)&&Object(f.jsx)("span",{className:"icon is-small",children:Object(f.jsx)("i",{className:"fas fa-exclamation-circle","aria-hidden":"true"})})]})}),Object(f.jsx)("div",{className:"block",children:Object(f.jsx)("div",{className:"columns",children:!d.loading&&d.results.map((function(e,a){return Object(f.jsxs)("div",{className:"column",children:[Object(f.jsx)("div",{children:s[a].transform.name}),Object(f.jsx)("img",{src:e})]})}))})})]})},Ne=function(){var e=r.a.useState({dirty:!1,transforms:[],baseImage:void 0}),a=Object(o.a)(e,2),n=a[0],t=a[1],s=!n.baseImage||0===n.transforms.length||!n.dirty||n.transforms.some((function(e){return e.transform.params.length>0&&e.paramsValues.every((function(e,a){return!1===e.valid}))}));return Object(f.jsx)("section",{children:Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{children:[Object(f.jsx)(d,{currentImageUrl:n.baseImage,onChange:function(e){t(Object(c.a)(Object(c.a)({},n),{},{baseImage:e,dirty:!0}))}}),Object(f.jsx)(x,{currentTransforms:n.transforms,possibleTransforms:me,onTransformsChange:function(e){return t(Object(c.a)(Object(c.a)({},n),{},{dirty:!0,transforms:e}))}}),Object(f.jsx)(Me,{isDirty:n.dirty,baseImageUrl:n.baseImage,computeDisabled:s,transforms:n.transforms,onComputed:function(){return t(Object(c.a)(Object(c.a)({},n),{},{dirty:!1}))}}),false]})})})};i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(Ne,{})}),document.getElementById("root"))}},[[269,1,2]]]);
//# sourceMappingURL=main.e8a403d0.chunk.js.map